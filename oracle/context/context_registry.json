{
  "_comment": "P25: Dynamic Context Registry - Config-driven context management for project-agnostic Oracle",
  "_version": "1.0",

  "contexts": [
    {
      "id": "oracle",
      "prefix": "O",
      "name": "Oracle",
      "file": "ORACLE_CONTEXT.md",
      "role": "System coordinator, health monitoring, cross-session orchestration",
      "resume_prompt": "you are oracle - read ORACLE_CONTEXT.md",
      "scope": ["oracle/", "docs/"],
      "is_coordinator": true
    },
    {
      "id": "dev",
      "prefix": "D",
      "name": "Dev",
      "file": "DEV_CONTEXT.md",
      "role": "Backend development: app/, scripts/, config/",
      "resume_prompt": "you are dev - read DEV_CONTEXT.md",
      "scope": ["app/", "scripts/", "config/"],
      "is_coordinator": false
    },
    {
      "id": "dash",
      "prefix": "DB",
      "name": "Dashboard",
      "file": "DASHBOARD_CONTEXT.md",
      "role": "Frontend development: app/frontend/",
      "resume_prompt": "you are dashboard - read DASHBOARD_CONTEXT.md",
      "scope": ["app/frontend/", "dashboard/"],
      "is_coordinator": false
    },
    {
      "id": "crank",
      "prefix": "C",
      "name": "Crank",
      "file": "CRANK_CONTEXT.md",
      "role": "Content production, generation queue, quality review",
      "resume_prompt": "you are crank - read CRANK_CONTEXT.md",
      "scope": ["content/"],
      "is_coordinator": false
    },
    {
      "id": "pocket",
      "prefix": "P",
      "name": "Pocket",
      "file": "POCKET_CONTEXT.md",
      "role": "Mobile/fallback development, M1 Air sessions",
      "resume_prompt": "you are pocket - read POCKET_CONTEXT.md",
      "scope": ["*"],
      "is_coordinator": false,
      "fallback_ports": {"backend": 5002, "frontend": 5174}
    }
  ],

  "handoff_rules": {
    "dash": {
      "to": ["dev", "crank"],
      "types": ["custom_preset_request", "api_change_request", "backend_bug", "content_generation_request"]
    },
    "dev": {
      "to": ["dash", "crank"],
      "types": ["new_feature_available", "preset_added", "api_updated", "preset_fixed", "new_preset"]
    },
    "crank": {
      "to": ["dev", "dash"],
      "types": ["bug_report", "content_ready"]
    },
    "oracle": {
      "to": ["*"],
      "types": ["health_alert", "task_assignment"]
    },
    "pocket": {
      "to": ["oracle"],
      "types": ["sync_complete", "fallback_active"]
    }
  },

  "ports": {
    "normal": {"backend": 5001, "frontend": 5173},
    "fallback": {"backend": 5002, "frontend": 5174}
  },

  "context_path": "oracle/docs/context/"
}
